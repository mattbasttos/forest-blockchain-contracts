# Smart Contracts â€“ Monitoramento Florestal e Aposentadoria de CrÃ©ditos de Carbono

Este repositÃ³rio contÃ©m contratos inteligentes desenvolvidos em **Solidity**, utilizando o **Foundry** como framework principal, voltados para **monitoramento florestal** e **aposentadoria (retirement) de crÃ©ditos de carbono**. O projeto foi estruturado com foco em testes automatizados, boas prÃ¡ticas de seguranÃ§a e reutilizaÃ§Ã£o de bibliotecas consolidadas.

---

## ğŸ“ Estrutura do Projeto

```text
lib/
 â”œâ”€ forge-std/                 # Biblioteca padrÃ£o do Foundry (Test, Script, Vm)
 â””â”€ openzeppelin-contracts/    # Contratos OpenZeppelin (Ownable, ERCs, etc.)

scripts/
 â””â”€ Deploy.s.sol               # Script de deploy dos contratos

src/
 â”œâ”€ carbonRetirement.sol       # Contrato de aposentadoria de crÃ©ditos de carbono
 â””â”€ forestMonitor.sol          # Contrato de monitoramento florestal

test/
 â”œâ”€ carbonRetirement.t.sol     # Testes unitÃ¡rios do CarbonRetirement
 â””â”€ forestMonitor.t.sol        # Testes unitÃ¡rios do ForestMonitor
```

---

## ğŸ› ï¸ PrÃ©-requisitos

Certifique-se de ter os seguintes itens instalados:

* **Foundry** (forge, cast, anvil)
* **Git**
* **Node.js** (opcional, apenas se for integrar com front-end)

InstalaÃ§Ã£o do Foundry:

```bash
curl -L https://foundry.paradigm.xyz | bash
foundryup
```

---

## ğŸ“¦ InstalaÃ§Ã£o do Projeto

Clone o repositÃ³rio e instale as dependÃªncias:

```bash
git clone <url-do-repositorio>
cd <nome-do-projeto>

forge install
```

Caso as dependÃªncias nÃ£o estejam configuradas:

```bash
forge install OpenZeppelin/openzeppelin-contracts
```

---

## âš™ï¸ CompilaÃ§Ã£o dos Contratos

Para compilar todos os contratos:

```bash
forge build
```

---

## ğŸ§ª ExecuÃ§Ã£o dos Testes

Execute todos os testes unitÃ¡rios:

```bash
forge test
```

Com logs detalhados:

```bash
forge test -vvv
```

Os testes validam:

* Regras de negÃ³cio dos contratos
* Controle de acesso
* EmissÃ£o e registro de eventos
* CondiÃ§Ãµes invÃ¡lidas e falhas esperadas

---

## ğŸ“œ Contratos Inteligentes

### ğŸŒ³ `ForestMonitor.sol`

Contrato responsÃ¡vel por registrar e consultar informaÃ§Ãµes relacionadas ao **monitoramento florestal**, como:

* Registro de Ã¡reas monitoradas
* AtualizaÃ§Ã£o de mÃ©tricas ambientais
* Armazenamento de evidÃªncias ou hashes (ex: dados de satÃ©lite)
* Controle de permissÃµes para entidades autorizadas

Uso tÃ­pico:

* OrÃ¡culos ou agentes autorizados registram dados ambientais
* Outros contratos ou aplicaÃ§Ãµes consultam o estado florestal

---

### â™»ï¸ `CarbonRetirement.sol`

Contrato responsÃ¡vel pela **aposentadoria de crÃ©ditos de carbono**, garantindo que crÃ©ditos nÃ£o sejam reutilizados.

Funcionalidades principais:

* Registro de crÃ©ditos de carbono
* Aposentadoria (retirement) de crÃ©ditos
* AssociaÃ§Ã£o de crÃ©ditos a projetos ou Ã¡reas monitoradas
* EmissÃ£o de eventos auditÃ¡veis

Uso tÃ­pico:

* Projetos ambientais solicitam a aposentadoria de crÃ©ditos
* Auditorias on-chain verificam crÃ©ditos aposentados

---

## ğŸš€ Deploy dos Contratos

O deploy Ã© realizado via script Foundry localizado em `scripts/Deploy.s.sol`.

### Deploy em rede local (Anvil)

Inicie uma blockchain local:

```bash
anvil
```

Em outro terminal, execute:

```bash
forge script scripts/Deploy.s.sol \
  --rpc-url http://localhost:8545 \
  --private-key <SUA_PRIVATE_KEY> \
  --broadcast
```

### Deploy em Testnet / Mainnet

```bash
forge script scripts/Deploy.s.sol \
  --rpc-url <RPC_URL> \
  --private-key <PRIVATE_KEY> \
  --broadcast --verify
```

> âš ï¸ **AtenÃ§Ã£o:** nunca versionar chaves privadas. Utilize variÃ¡veis de ambiente.

---

## ğŸ” VariÃ¡veis de Ambiente (Recomendado)

```bash
export PRIVATE_KEY=0x...
export RPC_URL=https://...
```

E entÃ£o:

```bash
forge script scripts/Deploy.s.sol --rpc-url $RPC_URL --private-key $PRIVATE_KEY --broadcast
```

---

## ğŸ“Š InteraÃ§Ã£o com os Contratos (Cast)

Exemplo de chamada de funÃ§Ã£o:

```bash
cast call <ENDERECO_CONTRATO> "funcao()"
```

Exemplo de envio de transaÃ§Ã£o:

```bash
cast send <ENDERECO_CONTRATO> "funcao(uint256)" 10 \
  --private-key $PRIVATE_KEY \
  --rpc-url $RPC_URL
```

---

## ğŸ§  Boas PrÃ¡ticas Adotadas

* Uso de bibliotecas **OpenZeppelin**
* Testes automatizados com **forge-std**
* Scripts de deploy reproduzÃ­veis
* SeparaÃ§Ã£o clara entre lÃ³gica, testes e deploy

---

## ğŸ“Œ ObservaÃ§Ãµes Finais

Este projeto foi desenvolvido com foco acadÃªmico e experimental, podendo ser estendido para:

* IntegraÃ§Ã£o com orÃ¡culos (Chainlink, API off-chain)
* ConexÃ£o com front-end (React, Next.js)
* IntegraÃ§Ã£o com blockchains permissionadas (ex: Hyperledger Besu)

---

<!-- ## ğŸ“„ LicenÃ§a

Este projeto Ã© distribuÃ­do sob a licenÃ§a **MIT**. -->
